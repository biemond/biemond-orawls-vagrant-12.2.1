# check the domain else we need to skip this (done in wls_access.rb)
real_domain='<%= domain %>'

name       = '<%= role_name %>'
realm      = '<%= realm %>'
expression = '<%= expression %>'

try:
    cd('/')

    realmName = cmo.getSecurityConfiguration().getDefaultRealm()
    mapper    = realmName.lookupRoleMapper('XACMLRoleMapper');
    mapper.setRoleExpression('', name, expression)
    report_back_success()

except:
    print "Unexpected error:", sys.exc_info()[0]
    report_back_error()
    raise





